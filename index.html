<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The G.O.A.T. Project</title>
    <!-- Link to the external stylesheet -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Font Awesome for Icons (required for the menu icons) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/js/all.min.js" crossorigin="anonymous"></script>
    
    <!-- Three.js and Firebase imports are usually handled in script.js, but keeping the external links for completion -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>
<body>

    <!-- Display User ID/Status (for connection status) -->
    <div id="user-id-display">
        <small>Agent ID:</small><br>
        <strong id="user-id">Connecting...</strong>
    </div>

    <!-- MAIN MENU SCREEN (Initial View) -->
    <div id="main-menu" class="main-menu-container active-screen">
        <h1 class="main-title">THE G.O.A.T. PROJECT</h1>
        <div class="menu-bar">
            <!-- Note: onClick handlers reference functions that will be defined in script.js -->
            <button class="menu-button" onclick="showScreen('my-player')"><i class="fas fa-user-tie"></i> MY HUB</button>
            <button class="menu-button" onclick="showScreen('missions-log')"><i class="fas fa-list-check"></i> MISSIONS</button>
            <button class="menu-button" onclick="showScreen('quick-play')"><i class="fas fa-running"></i> QUICK PLAY</button>
            <button class="menu-button" onclick="showScreen('options')"><i class="fas fa-sliders"></i> OPTIONS</button>
            <button class="menu-button" onclick="showMessage('System Shutdown', 'This feature is not implemented yet.')"><i class="fas fa-right-from-bracket"></i> QUIT</button>
        </div>
    </div>

    <!-- MY HUB SCREEN (Player Stats) -->
    <div id="my-player" class="my-player-container">
        <h2>MY HUB <small>(Agent: <span id="hub-user-id"></span>)</small></h2>
        <p><strong>Agent Name:</strong> <span id="player-name">Rogue Analyst</span></p>
        <p><strong>Rank:</strong> <span id="player-rank">Rookie</span></p>
        <p><strong>Influence (EXP):</strong> <span id="player-influence">0</span> / 100</p>
        <div class="progress-bar-container"><div id="influence-bar" class="progress-bar"></div></div>
        
        <h3>Current Assets</h3>
        <p><strong>Credits:</strong> <span id="player-credits">500</span></p>
        <p><strong>Skill Points:</strong> <span id="player-skill-points">0</span></p>

        <button class="neon-btn" onclick="showScreen('main-menu')">BACK TO MAIN MENU</button>
    </div>

    <!-- MISSIONS LOG SCREEN -->
    <div id="missions-log" class="missions-log-container">
        <h2>MISSIONS LOG</h2>
        <div id="mission-list">
            <!-- Missions will be dynamically loaded/listed here -->
            <button class="mission-item" onclick="showMission(1)">
                <span>M1: The First Contract</span>
                <span>(EASY - <i class="fas fa-medal"></i> 10 XP)</span>
            </button>
        </div>
        <button class="neon-btn" onclick="showScreen('main-menu')">RETURN</button>
    </div>
    
    <!-- QUICK PLAY SCREEN (Simple Game Loop) -->
    <div id="quick-play" class="quick-play-screen">
        <h2>QUICK PLAY: Rapid Reflex Training</h2>
        <p>Sharpen your reaction time. Click the button exactly when the meter is at its peak.</p>
        <!-- The canvas for 3D/2D game will be injected here by JavaScript or defined with max-width -->
        <!-- <canvas id="game-canvas"></canvas> -->
        <div id="meter-display">--</div>
        <button id="quick-play-button" class="skill-button" onclick="startGameLoop()">START TRAINING</button>
        <p>Last Score: <span id="quick-play-score">N/A</span></p>
        <button class="neon-btn" onclick="showScreen('main-menu')" style="margin-top: 20px;">BACK</button>
    </div>


    <!-- CUSTOM MESSAGE MODAL (Replaces alert/confirm) -->
    <div id="message-modal">
        <div id="message-box">
            <h3 id="modal-title"></h3>
            <p id="modal-text" class="modal-text"></p>
            <button id="modal-ok-btn" class="neon-btn" onclick="hideMessage()">OKAY</button>
        </div>
    </div>

    <!-- Link to the external JavaScript file -->
    <script type="module" src="script.js"></script>
</body>
</html>
