<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE G.O.A.T. PROJECT</title>
    <!-- Link to the external stylesheet (style.css) -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Load Tailwind CSS for utility classes -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <!-- Main Menu Screen (Full Screen Layout) -->
    <div class="main-menu-container" id="main-menu-container">
        <h1 class="main-title">THE G.O.A.T. PROJECT</h1>
        
        <!-- User Info Display -->
        <div id="user-info" class="absolute top-2 right-4 text-xs sm:text-sm text-neon-blue text-center"></div>

        <!-- Menu Bar (Fixed to bottom) -->
        <div class="menu-bar">
            <button class="menu-button" onclick="quickPlay()">QUICK PLAY</button>
            <button class="menu-button" onclick="loadMissions()">MISSIONS</button>
            <button class="menu-button" onclick="loadMyHub()">MY HUB</button>
            <button class="menu-button" onclick="loadOptions()">OPTIONS</button>
            <button class="menu-button" onclick="quitGame()">QUIT</button>
        </div>
    </div>

    <!-- QUICK PLAY GAME SCREEN (2D Hoops) -->
    <div id="quick-play-game-screen" class="mission-screen hidden">
        <h2 class="mb-4 text-center">BACKYARD HOOPZ - QUICK PLAY</h2>
        
        <div class="w-full flex flex-col items-center">
            <canvas id="game-canvas" width="760" height="480"></canvas>
            
            <div class="control-bar flex justify-between w-full p-3 rounded-xl border border-neon-pink shadow-lg shadow-pink-500/20">
                <div id="score-display" class="text-lg font-bold text-neon-blue">SCORE: 0</div>
                <div id="high-score-display" class="text-lg font-bold text-neon-pink">BEST: 0</div>
                <div id="shots-fired" class="text-lg font-bold text-neon-blue">SHOTS: 0</div>
            </div>

            <p id="game-message" class="text-center mt-4 text-lg font-bold text-neon-pink">Click & drag to shoot!</p>
            
            <!-- START OF NEW BUTTON CONTAINER: EXIT GAME (Left) and START GAME (Middle) -->
            <div class="w-full flex justify-center mt-6">
                <!-- Inner flex container to space the two buttons -->
                <div class="flex justify-around w-full max-w-lg gap-8">
                    <!-- 1. EXIT GAME (Left) -->
                    <button class="menu-button text-center w-auto px-4 py-2" onclick="showMainMenu()">
                        <i class="fas fa-arrow-left mr-2"></i>EXIT GAME
                    </button>

                    <!-- 2. START GAME (Middle) - Calls resetGame() to clear score and put the ball back -->
                    <button class="skill-button text-center w-auto px-6 py-2" onclick="resetGame()">
                        <i class="fas fa-play mr-2"></i>START GAME
                    </button>
                </div>
            </div>
            <!-- END OF NEW BUTTON CONTAINER -->

        </div>
    </div>

    <!-- MISSIONS LOG SCREEN -->
    <div class="missions-log-container hidden" id="missions-screen">
        <h2>MISSIONS LOG</h2>
        <button class="mission-item" id="mission-1-button" onclick="startMission(1)">1. The Jump Start (AVAILABLE)</button>
        <button class="mission-item" id="mission-2-button" onclick="startMission(2)">2. The Rookie Contract (LOCKED)</button>
        
        <p class="text-gray-400 mt-6">More missions coming soon...</p>

        <button class="neon-btn mt-8" onclick="showMainMenu()">BACK TO MAIN</button>
    </div>

    <!-- MY HUB SCREEN -->
    <div class="my-player-container hidden" id="my-hub-screen">
        <h2>MY HUB</h2>
        <button class="menu-button" onclick="loadMyStats()">PLAYER STATS</button>
        <button class="menu-button" onclick="loadTraining()">TRAINING FACILITY</button>
        <button class="menu-button" onclick="showMessageBox('Ranks and Leaderboards coming soon!')">LEADERBOARDS</button>
        
        <button class="neon-btn mt-8" onclick="showMainMenu()">BACK TO HUB</button>
    </div>

    <!-- MY STATS SCREEN -->
    <div class="my-player-container hidden" id="my-stats-screen">
        <h2>PLAYER STATS</h2>
        <p>Overall Rating: <span id="stats-overall-rating" class="text-neon-pink text-2xl font-bold">75</span></p>
        <div id="stats-current-mission"><strong>Current Mission:</strong> The Jump Start</div>
        <div id="stats-high-score-container"><strong>Quick Play High Score:</strong> <span id="stats-high-score" class="text-neon-blue font-bold">0</span></div>

        <p class="text-gray-300 text-sm mt-4">User ID: <span id="player-id-display">N/A</span></p>

        <p class="mt-4">Mission Progress</p>
        <div class="progress-bar-container">
            <div id="mission-progress-bar" style="width: 0%;"></div>
        </div>

        <button class="neon-btn mt-8" onclick="loadMyHub()">BACK TO HUB</button>
    </div>


    <!-- OPTIONS SCREEN -->
    <div class="options-container hidden" id="options-screen">
        <h2>OPTIONS</h2>
        <p class="text-gray-400">Settings and customization features coming soon!</p>
        
        <button class="neon-btn mt-8" onclick="showMainMenu()">BACK TO MAIN</button>
    </div>

    <!-- QUIT SCREEN -->
    <div class="quit-container hidden" id="quit-screen">
        <h2>QUIT GAME?</h2>
        <p class="text-gray-300">Your progress is saved automatically via The G.O.A.T. Project Cloud Sync.</p>
        
        <button class="neon-btn mt-8" onclick="showMainMenu()">RETURN TO MAIN MENU</button>
    </div>

    <!-- MISSION 1 SCREEN (Power Meter) -->
    <div class="mission-screen hidden" id="mission-1-screen">
        <h2>MISSION 1: THE JUMP START</h2>
        <p class="text-gray-300">Coach says: Hit the button when the meter reaches 95 for a perfect pass!</p>
        
        <div class="mission-content">
            <h1 id="meter-display">0</h1>
            <button class="skill-button" onclick="stopMeter()">SHOOT / PASS</button>
        </div>

        <div id="mission-feedback" class="text-xl font-bold"></div>

        <button class="menu-button mt-8 w-full max-w-[200px] text-center" onclick="showMainMenu()">EXIT MISSION</button>
    </div>
    
    <!-- MISSION 2 SCREEN (Rookie Contract) -->
    <div class="mission-screen hidden" id="mission-2-screen">
        <h2>MISSION 2: THE ROOKIE CONTRACT</h2>
        <p class="text-gray-300">Your agent, Mr. Smith, has two contract offers for you. He asks: **Which offer do you take?**</p>
        
        <div class="mission-content flex flex-col items-center">
            <!-- Updated to use contract-button class -->
            <button class="contract-button" onclick="completeMission2(1)">Option 1: Small Bonus, High Incentives (+5 OVERALL)</button>
            <button class="contract-button" onclick="completeMission2(0)">Option 2: Large Bonus, Low Incentives (+1 OVERALL)</button>
        </div>
        
        <button class="menu-button mt-8 w-full max-w-[200px] text-center" onclick="showMainMenu()">EXIT MISSION</button>
    </div>

    <!-- Custom Message Modal (Replaces alert() and confirm()) -->
    <div id="message-modal" class="hidden" style="display: none;">
        <div id="message-box">
            <p id="modal-text" class="modal-text"></p>
            <button class="neon-btn text-sm" onclick="hideMessageBox()">OK</button>
        </div>
    </div>
    
    <!-- Link to the external JavaScript file (script.js) -->
    <script type="module" src="script.js"></script>
</body>
</html>
